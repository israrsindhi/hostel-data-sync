function refreshTransactionLists() {
    if (!jsonData) return;
    
    let filteredTransactions = [...jsonData.transactions];
    
    // FIRST: Isolate by tab type (Fees, Expenses, or All)
    if (currentTab === 'fees') {
        filteredTransactions = filteredTransactions.filter(t => t.type === 'fee');
    } else if (currentTab === 'expenses') {
        filteredTransactions = filteredTransactions.filter(t => t.type === 'expense');
    }
    // For 'all' tab, keep all transactions
    
    // SECOND: Apply category filter
    if (activeFilters.category !== 'All') {
        const filterBtn = document.querySelector(`.filter-btn[data-category="${activeFilters.category}"]`);
        const filterType = filterBtn ? filterBtn.dataset.type : null;
        
        // Apply category filter based on filter type
        if (currentTab === 'all') {
            // In "All" tab, show transactions matching the selected category
            filteredTransactions = filteredTransactions.filter(t => t.category === activeFilters.category);
        } else if (currentTab === 'fees') {
            // In "Fees" tab, only apply fee category filters
            if (filterType === 'fee') {
                filteredTransactions = filteredTransactions.filter(t => t.category === activeFilters.category);
            } else {
                // If expense category selected in Fees tab, show no results
                filteredTransactions = [];
            }
        } else if (currentTab === 'expenses') {
            // In "Expenses" tab, only apply expense category filters
            if (filterType === 'expense') {
                filteredTransactions = filteredTransactions.filter(t => t.category === activeFilters.category);
            } else {
                // If fee category selected in Expenses tab, show no results
                filteredTransactions = [];
            }
        }
    }
    
    // THIRD: Apply collector filter (only for fees tab)
    if (currentTab === 'fees' && activeFilters.collector !== 'All Collectors') {
        filteredTransactions = filteredTransactions.filter(t => t.collectedBy === activeFilters.collector);
    }
    
    // ... rest of the function
}
